[mgr]
ratio = [1,4,4]
linemode = "size"

[preview]
max_width = 1200
max_height = 1800
cache_dir = "~/.cache/yazi/"

#[[plugin.prepend_fetchers]]
#id   = "git"
#name = "*"
#run  = "git"
#
#[[plugin.prepend_fetchers]]
#id   = "git"
#name = "*/"
#run  = "git"

[plugin]
prepend_preloaders = [
    # Replace magick, image, video with mediainfo
    #{ mime = "{audio,video,image}/*", run = "mediainfo" },
    #{ mime = "application/subrip", run = "mediainfo" },
    { mime = "image/jpeg", run = "epeg"},
]
prepend_previewers = [
    # Markdown previwer
    { name = "*.md", run = "glow" },
    { name = "*.stl",                       run = "stl" },
    # Archive previewer
    { mime = "application/*zip",            run = "ouch"      },
    { mime = "application/x-tar",           run = "ouch"      },
    { mime = "application/x-bzip2",         run = "ouch"      },
    { mime = "application/x-7z-compressed", run = "ouch"      },
    { mime = "application/x-rar",           run = "ouch"      },
    { mime = "application/x-xz",            run = "ouch"      },
    { mime = "text/csv",                    run = "miller"    },
    # Replace magick, image, video with mediainfo
    { mime = "{audio,video,image}/*",       run = "mediainfo" },
    { mime = "application/subrip",          run = "mediainfo" },
]

[opener]
show = [
    { run = 'handlr open -e false "$@"', desc = "Simple open"},
    ]

[open]
prepend_rules = [
    { mime = "image/*", use = [ "show" , "open", "reveal" ] },
    { mime = "video/*", use = [ "show" , "open", "reveal" ] },
    { mime = "audio/*", use = [ "show" , "open", "reveal" ] },
    { mime = "application/pdf", use = [ "show" , "open", "reveal" ] },
    ]
